<!DOCTYPE html>
<html lang="en">
<head>
  <title>Post::Text - <%= title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= asset 'main.css' %>
</head>
<body>
<header>
  <h1>Post::Text</h1>
  <nav>
    <%= link_to List  => threads_list => {list_page => 1}  %>
    <%= link_to New   => 'post_thread'                     %>
    <%= link_to About => 'about_page'                      %>
    <%= link_to Rules => 'rules_page'                      %>
    <%= link_to RSS   => threads_feed => {format => 'rss'} %>
    <% if (is_mod) { =%>
    <%= link_to Logout => mod_logout => (class => 'login') %>
    <% } else { =%>
    <%= link_to Login => mod_login => (class => 'login') %>
    <% } =%>
    </span>
  </nav>
  <% if (is_mod) { =%>
  <nav>
    <span>Moderate:</span>
    <%= link_to Flagged => 'flagged_list' %>
    <%= link_to Hidden  => 'hidden_list'  %>
    <%= link_to Reset   => 'mod_reset'    %>
  </nav>
  <% } =%>
  <% if (is_admin) { =%>
  <nav>
    <span>Admin:</span>
    <%= link_to Create  => 'create_mod'   %>
    <%= link_to Reset   => 'admin_reset'  %>
    <%= link_to Lock    => 'lock_mod'     %>
    <%= link_to Unlock  => 'unlock_mod'   %>
    <%= link_to Promote => 'promote_mod'  %>
    <%= link_to Demote  => 'demote_admin' %>
  </nav>
  <% } =%>
</header>
<hr>
<% if (flash 'error') { =%>
<p class="field-with-error" id="error"><%= flash 'error' %></p>
<% } elsif (stash 'error') { =%>
<p class="field-with-error" id="error"><%= stash 'error' %></p>
<% } =%>
<% if (flash 'info') { =%>
<p class="field-with-info" id="info"><%= flash 'info' %></p>
<% } elsif (stash 'info') { =%>
<p class="field-with-info" id="info"><%= stash 'info' %></p>
<% } =%>
<%= content =%>
<footer>
  <p>In UTF-8 we trust. ðŸ«¡</p>
</footer>
</body>
</html>
